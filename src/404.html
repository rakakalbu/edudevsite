<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <base href="/" />
  <title>Redirect…</title>
  <style>
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Arial,sans-serif;
         display:grid;place-items:center;height:100vh;margin:0;color:#111}
    .box{max-width:520px;padding:24px;border:1px solid #eee;border-radius:12px}
    .muted{color:#6b7280}
    a{color:#4f46e5}
  </style>
</head>
<body>
  <div class="box">
    <h1>Memuat…</h1>
    <p class="muted">Mengarahkan ke halaman registrasi.</p>
  </div>

  <script>
    (function () {
      // Path without leading/trailing slashes
      var rawPath = (location.pathname || '/').replace(/^\/+|\/+$/g, '');
      // e.g. ["register","006..."] or ["006..."] or []
      var parts = rawPath ? rawPath.split('/') : [];

      // Pattern: pure SF Id at root, e.g. /006gL00000C1H05QAN
      var looksLikeSfId = function (s) { return /^[A-Za-z0-9]{15,18}$/.test(s || ''); };

      // /register/<OppId>
      if (parts.length === 2 && parts[0].toLowerCase() === 'register' && looksLikeSfId(parts[1])) {
        location.replace('/register.html?opp=' + encodeURIComponent(parts[1]));
        return;
      }

      // /<OppId> at root
      if (parts.length === 1 && looksLikeSfId(parts[0])) {
        location.replace('/register.html?opp=' + encodeURIComponent(parts[0]));
        return;
      }

      // Otherwise show a friendly 404 with a link home
      document.querySelector('.box').innerHTML =
        '<h1>404</h1><p class="muted">Halaman tidak ditemukan.</p>' +
        '<p><a href="/">Kembali ke beranda</a></p>';
    })();
  </script>
</body>
</html>